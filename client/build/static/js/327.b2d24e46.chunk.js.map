{"version":3,"file":"static/js/327.b2d24e46.chunk.js","mappings":"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","sources":["Pages/Cart.jsx","../node_modules/@mui/icons-material/Remove.js"],"sourcesContent":["import Add from \"@mui/icons-material/Add\";\nimport Remove from \"@mui/icons-material/Remove\";\nimport styled from \"styled-components\";\nimport { mobile, tablet } from \"../Utils/responsive\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cartActions } from \"../Redux/cartRedux\";\nimport { Link, useNavigate } from \"react-router-dom\";\n// import StripeCheckout from \"react-stripe-checkout\";\n// import { useEffect, useState } from \"react\";\n// import { userRequest } from \"../requestMethods\";\n\nconst Cart = ({ onCloseCart, onOpenCheckout }) => {\n  const navigate = useNavigate();\n  const token = useSelector((state) => state.auth.token);\n  const user = localStorage.getItem(\"userId\");\n  const cart = useSelector((state) => state.cart.items);\n  const cartTotalRedux = useSelector((state) => state.cart.totalAmount);\n  const shipping = 5.9;\n  const discount = 0;\n  const subTotal = cartTotalRedux.toFixed(2);\n  const TotalPrice = (cartTotalRedux + shipping - discount).toFixed(2);\n  const dispatch = useDispatch();\n\n  const cartItemRemoveHandler = (id) => {\n    dispatch(cartActions.removeItemFromCart({ id, user }));\n  };\n  const cartItemAddHandler = (item) => {\n    const cartItem = { ...item, amount: 1, user: user };\n    dispatch(cartActions.addItemToCartHandler(cartItem));\n  };\n\n  const handleCheckout = () => {\n    if (token !== null) {\n      onOpenCheckout();\n      onCloseCart();\n    } else {\n      onCloseCart(\"checkout\");\n      navigate(\"/auth\");\n    }\n  };\n\n  const handleClearCart = () => {\n    dispatch(cartActions.removeFromDB(user));\n  };\n  // const [stripeToken, setStripeToken] = useState(null);\n\n  // const onToken = (token) => {\n  //   setStripeToken(token);\n  // };\n\n  // useEffect(() => {\n  //   const makeRequest = async () => {\n  //     try {\n  //       const res = await userRequest.post(\"/checkout/payment\", {\n  //         tokenId: stripeToken.id,\n  //         amount: cart.total * 100,\n  //       });\n  //       // console.log(res.data);\n  //       history.push(\"/success\", {\n  //         stripeData: res.data,\n  //         products: cart,\n  //       });\n  //     } catch (error) {\n  //       console.log(error);\n  //     }\n  //   };\n  //   makeRequest();\n  //   // stripeToken && makeRequest();\n  // }, [cart.total, history]);\n  // }, [stripeToken, cart.total, history]);\n  return (\n    <Container onClick={onCloseCart}>\n      <Wrapper onClick={(e) => e.stopPropagation()}>\n        <Title>YOUR BAG</Title>\n        <Top>\n          <Link onClick={onCloseCart} to=\"/products\">\n            <TopButton>CONTINUE SHOPPING</TopButton>\n          </Link>\n          <TopButton onClick={handleClearCart} type=\"filled\">\n            CLEAR CART\n          </TopButton>\n        </Top>\n        <Bottom>\n          <Info>\n            {cart.map((product) => (\n              <Product key={product.id}>\n                <ProductDetail>\n                  <Link to={`/product/${product.id}`}>\n                    <Image src={product.img} />\n                  </Link>\n                  <Details>\n                    <ProductName>\n                      <b>Product:</b> {product.name}\n                    </ProductName>\n                    <ProductId>\n                      <b>Unit Price:</b> €{product.price.toFixed(2)}\n                    </ProductId>\n                    <ProductId>\n                      <b>Quantity:</b> {product.amount}\n                    </ProductId>\n                    <ProductId>\n                      <b>ID:</b> {product.id}\n                    </ProductId>\n                  </Details>\n                </ProductDetail>\n                <PriceDetail>\n                  <ProductAmountContainer>\n                    <Remove onClick={cartItemRemoveHandler.bind(null, product.id)} />\n                    <ProductAmount>|</ProductAmount>\n                    <Add onClick={cartItemAddHandler.bind(null, product)} />\n                  </ProductAmountContainer>\n                  <ProductPrice>€{(product.price * product.amount).toFixed(2)}</ProductPrice>\n                </PriceDetail>\n              </Product>\n            ))}\n            <Hr />\n          </Info>\n          <Summary>\n            <SummaryTitle>ORDER SUMMARY</SummaryTitle>\n            <SummaryItem>\n              <SummaryItemText>Subtotal</SummaryItemText>\n              <SummaryItemPrice>€{subTotal}</SummaryItemPrice>\n            </SummaryItem>\n            <SummaryItem>\n              <SummaryItemText>Estimated Shipping</SummaryItemText>\n              <SummaryItemPrice>€{shipping.toFixed(2)}</SummaryItemPrice>\n            </SummaryItem>\n            <SummaryItem>\n              <SummaryItemText>Shipping Discount</SummaryItemText>\n              <SummaryItemPrice>€{discount.toFixed(2)}</SummaryItemPrice>\n            </SummaryItem>\n            <SummaryItem type=\"total\">\n              <SummaryItemText>Total</SummaryItemText>\n              <SummaryItemPrice>€{TotalPrice}</SummaryItemPrice>\n            </SummaryItem>\n            {/* <StripeCheckout\n              name=\"Lama Shop\"\n              image=\"https://avatars.githubusercontent.com/u/1486366?v=4\"\n              billingAddress\n              shippingAddress\n              description={`Your total is $${cart.total}`}\n              amount={cart.total * 100}\n              token={onToken}\n              stripeKey={KEY}\n            > */}\n            <Button onClick={handleCheckout}>CHECKOUT NOW</Button>\n            {/* </StripeCheckout> */}\n          </Summary>\n        </Bottom>\n      </Wrapper>\n    </Container>\n  );\n};\n\nexport default Cart;\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.75);\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 100;\n`;\n\nconst Wrapper = styled.div`\n  padding: 20px;\n  width: 60%;\n  max-height: 80%;\n  ${tablet({ width: \"96%\" })}\n  ${mobile({ padding: \"10px\" })}\n  border-radius: 12px;\n  background-color: white;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.h1`\n  font-weight: 500;\n  text-align: center;\n`;\n\nconst Top = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20px;\n`;\n\nconst TopButton = styled.button`\n  padding: 10px;\n  font-weight: 600;\n  cursor: pointer;\n  border: 1px solid black;\n  box-shadow: 0 3px 24px rgb(0 0 0 / 30%);\n  border-radius: 1rem;\n  border: ${(props) => props.type === \"filled\" && \"none\"};\n  background-color: ${(props) => (props.type === \"filled\" ? \"black\" : \"transparent\")};\n  color: ${(props) => props.type === \"filled\" && \"white\"};\n  transition: all 0.5s ease;\n  &:hover {\n    transform: scale(1.1);\n  }\n`;\n\nconst Bottom = styled.div`\n  display: flex;\n  justify-content: space-between;\n  box-shadow: 0 3px 24px rgb(0 0 0 / 30%);\n  border-radius: 1rem;\n  overflow: scroll;\n  ${mobile({ flexDirection: \"column\" })}\n`;\n\nconst Info = styled.div`\n  flex: 3;\n`;\n\nconst Product = styled.div`\n  display: flex;\n  justify-content: space-between;\n  ${mobile({ flexDirection: \"column\" })}\n`;\n\nconst ProductDetail = styled.div`\n  flex: 2;\n  display: flex;\n`;\n\nconst Image = styled.img`\n  cursor: pointer;\n  width: 200px;\n  ${mobile({\n    width: \"120px\",\n  })}\n`;\n\nconst Details = styled.div`\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n`;\n\nconst ProductName = styled.span``;\n\nconst ProductId = styled.span``;\n\nconst PriceDetail = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ProductAmountContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n`;\n\nconst ProductAmount = styled.div`\n  font-size: 24px;\n  margin: 5px;\n  ${mobile({ margin: \"5px 15px\" })}\n`;\n\nconst ProductPrice = styled.div`\n  font-size: 30px;\n  font-weight: 200;\n  ${mobile({ marginBottom: \"20px\" })}\n`;\n\nconst Hr = styled.hr`\n  background-color: #eee;\n  border: none;\n  height: 1px;\n`;\n\nconst Summary = styled.div`\n  flex: 1;\n  border: 0.5px solid lightgray;\n  border-radius: 10px;\n  padding: 20px;\n  height: 50vh;\n`;\n\nconst SummaryTitle = styled.h1`\n  font-weight: 200;\n`;\n\nconst SummaryItem = styled.div`\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  font-weight: ${(props) => props.type === \"total\" && \"500\"};\n  font-size: ${(props) => props.type === \"total\" && \"24px\"};\n`;\n\nconst SummaryItemText = styled.span``;\n\nconst SummaryItemPrice = styled.span``;\n\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  box-shadow: 0 3px 24px rgb(0 0 0 / 30%);\n  border-radius: 1rem;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.5s ease;\n  &:hover {\n    transform: scale(1.1);\n  }\n`;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\nexports.default = _default;"],"names":["onCloseCart","onOpenCheckout","navigate","useNavigate","token","useSelector","state","auth","user","localStorage","getItem","cart","items","cartTotalRedux","totalAmount","subTotal","toFixed","TotalPrice","dispatch","useDispatch","cartItemRemoveHandler","id","cartActions","cartItemAddHandler","item","cartItem","amount","Container","onClick","Wrapper","e","stopPropagation","Title","Top","to","TopButton","type","Bottom","Info","map","product","Product","ProductDetail","Image","src","img","Details","ProductName","name","ProductId","price","PriceDetail","ProductAmountContainer","bind","ProductAmount","ProductPrice","Hr","Summary","SummaryTitle","SummaryItem","SummaryItemText","SummaryItemPrice","Button","styled","tablet","width","mobile","padding","props","flexDirection","margin","marginBottom","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}